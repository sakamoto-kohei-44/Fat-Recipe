# [Fattening Recipe]
## サービス概要
「Fattening Recipe」は、食が細い、あるいは体質的に痩せ型の人々が
健康的な体重増加を目指し、標準体型、さらには細マッチョになるための
サポートを行う食事特化型サービスです。

## 想定されるユーザー層
・10代～40代のある程度料理ができる男女。<br>
・食事の量が少なく、体が細く悩んでいる人。<br>
・食事を増やしても、なかなか体重が増えない人。<br>
・細マッチョに憧れて食生活を見直したい人。<br>
・標準体重を目指しているが、方法がわからない人。<br>
## サービスコンセプト
多くの人が体重を落としたいと考える現代社会ですが、体重を増やしたいと感じている人も多く存在します。<br>
特に、食事の量や質に挑戦している人、体質的に太りにくいと感じている人が、ただ増量を目的とした食事を取るだけでは十分な結果を得ることはなかなか難しいです。<br>
栄養バランス、カロリー摂取量、食事のタイミングや頻度など、体重を増やすための効果的なアプローチには幅広い知識が求められます。<br>
そこで、標準体重に近づきたい人や細マッチョを目指す人向けに、食事に特化した情報とサポートを提供するサービスを提案します。<br>
売りや差別化のポイントとしては<br>
・ほとんどの健康・食事アプリは減量をメインにしていますが、このサービスは増量を目指す人に特化している点が最大の売りです。<br>
・ユーザーの体質、目標に応じてカスタマイズされた食事プランのアドバイスを提供することで、一人ひとりのニーズに合わせたサポートを実現します。<br>
・メニュー作成時に、ユーザーが嫌いな食材を避けながら、それでもバランスの取れた食事プランを提案する。これにより、食事を続けるモチベーションを維持しやすくします。<br>
・単に食事プランを提供するだけでなく、なぜその食材やタイミングが推奨されるのかの理由や背景も提供します。これにより、ユーザーは増量の知識を深めることができ、自分自身での食事選びの基準も養うことができます。<br>
・競合サービスとの差別化ポイントとして、いくつかの献立アプリでは、主に食材を指定して一週間分のレシピをAIが自動生成する機能がメインですが、カロリー管理や増量を目的としたレシピの生成機能はありません。<br>
一方、筋トレアプリではカロリー管理や体重管理をグラフ等で視覚化する機能は備えていますが、増量のための適切なレシピを生成する機能はありません。<br>
このアプリでは、カロリー管理や体重管理をグラフなどで視覚化する機能と、増量のための適切なレシピを生成する機能の両方を組み合わせることで、二つのアプリの長所を取り入れた形となっており、これが最大の差別化ポイントです。<br>

多くの人が体重を落としたいと考える現代社会ですが、体重を増やしたいと感じている人も多く存在します。<br>
特に、食事の量や質に挑戦している人、体質的に太りにくいと感じている人が、ただ増量を目的とした食事を取るだけでは十分な結果を得ることはなかなか難しいです。<br>
栄養バランス、カロリー摂取量、食事のタイミングや頻度など、体重を増やすための効果的なアプローチには幅広い知識が求められます。<br>
そこで、標準体重に近づきたい人や細マッチョを目指す人向けに、食事に特化した情報とサポートを提供するサービスを提案します。<br>
売りや差別化のポイントとしては<br>
・ほとんどの健康・食事アプリは減量をメインにしていますが、このサービスは増量を目指す人に特化している点が最大の売りです。<br>
・ユーザーの体質、目標に応じてカスタマイズされた食事プランのアドバイスを提供することで、一人ひとりのニーズに合わせたサポートを実現します。<br>
・メニュー作成時に、ユーザーが嫌いな食材を避けながら、それでもバランスの取れた食事プランを提案する。これにより、食事を続けるモチベーションを維持しやすくします。<br>
・単に食事プランを提供するだけでなく、なぜその食材やタイミングが推奨されるのかの理由や背景も提供します。これにより、ユーザーは増量の知識を深めることができ、自分自身での食事選びの基準も養うことができます。<br>
・競合サービスとの差別化ポイントとして、いくつかの献立アプリでは、主に食材を指定して一週間分のレシピをAIが自動生成する機能がメインですが、カロリー管理や増量を目的としたレシピの生成機能はありません。<br>
一方、筋トレアプリではカロリー管理や体重管理をグラフ等で視覚化する機能は備えていますが、増量のための適切なレシピを生成する機能はありません。<br>
このアプリでは、カロリー管理や体重管理をグラフなどで視覚化する機能と、増量のための適切なレシピを生成する機能の両方を組み合わせることで、二つのアプリの長所を取り入れた形となっており、これが最大の差別化ポイントです。<br>

## サービスの利用イメージ<br>
* 利用方法<br>
  初回アクセス時にはサービス紹介とログインボタンを提示。<br>
GoogleやLINEでのログインを可能とし、ゲストユーザーも部分的な機能利用を許可。<br>
ユーザーは目標体型の選択後、性別、身長、体重、活動レベル、ニックネームを入力してTDEEを算出。<br>
入力データは保存され、必要な日常のカロリーやレシピ提供に利用。<br>

* ダッシュボード:<br>
ユーザーの基本情報や目標の栄養摂取量を表示。<br>
週1回の体重入力推移をグラフで表示。<br>

* 献立提案:<br>
ユーザーの目標に基づく一日の献立を提案。<br>
各食事の詳細レシピを表示。<br>
APIを利用し数日分のレシピを自動生成。<br>

* 検索:
料理名やカテゴリでレシピ検索。<br>
## 実装を予定している機能

### MVP
* 会員登録
* ログイン/ログアウト機能
* ユーザープロフィールの設定
* アレルギー項目の設定
* 性別、身長、体重、活動レベルの入力
* 目標設定（標準体重を目指すか、細マッチョを目指すか等）
* カロリーとTDEEなどの計算(プロフィール情報を元に必要なカロリー、栄養素を算出)
* ユーザーの情報と目標に合わせた食事の提案
* 週一回の体重を入力し、推移をグラフで表示
* ステップ入力・確認画面
* マルチ検索・オートコンプリート
  ユーザーが簡単に食材やレシピを検索できるようにする
* ローディングスピナーやプログレスバーの実装: 「レシピを生成中...」のようなメッセージの表示。(生成時間が長ければ)
* 利用規約、プライバシーポリシー
* 退会処理機能
### その後の機能
* 嫌いな食材設定機能：(嫌いな食材を選択)
* LINE認証
* Godle認証
* レコメンド(時間があれば)
  ユーザーの過去の選択や好みに基づいて、レシピや食材をおすすめ
* レシピのお気に入り機能
* 管理者画面
* Rspec

**### 使用するAPI**
* Spoonacular API
* LINE API
* Microsoft Translator Text API
**### 具体的な実装方法**
* 「ユーザーの情報と目標に合わせた食事プランの提案」
1ユーザープロフィールの設定:

ユーザーから基本情報（性別、体重、身長等）を収集。
これらの情報を元に1日の必要カロリー（TDEE）を計算。
APIからのレシピ情報取得:

Spoonacular APIを利用してレシピを一括取得。
各レシピに含まれるカロリーや栄養成分を確認。
レシピのフィルタリング:

ユーザーのTDEEに適合するカロリーレンジのレシピを選出。例：TDEEが2000カロリーなら、夕食として500〜700カロリーのレシピを選定。
必要に応じて、他の栄養成分もフィルタリングの条件に追加。
結果の提示:

選定されたレシピをユーザーに表示。

2. 「嫌いな食材に合わせた数日分の適切なレシピを自動で作成し提案」
* 嫌いな食材の設定:
チェックボックスを使って、ユーザーの食材の好みを収集。
ユーザーはプロフィールで嫌いな食材を選択。
ユーザーが選択できる食材リストはFood モデルから取得。
フロントエンドでは、これらの食材から選択して嫌いを設定できるUIを提供。
レシピ提案時のフィルタリング:

SQLクエリを使用して、Recipe モデルと中間テーブルをJOIN。ユーザーの嫌いな食材を含むレシピを除外。

食材のデータの用意:
Spoonacular APIを利用して、初期データをインポート。

レシピ提案時のフィルタリング:
ユーザーが設定した好みを基に、データベース内のレシピをフィルタリング。
嫌いな食材を含むレシピは提案リストから除外。
レシピの表示:
フィルタリングされたレシピをリストとしてユーザーに表示。
各レシピには、材料リスト、調理手順、総カロリーなどの情報が表示される。
### Figma画面遷移図
https://www.figma.com/file/mL0abUN3kCBi2m0N5zho9w/%E7%94%BB%E9%9D%A2%E9%81%B7%E7%A7%BB%E5%9B%B3?type=design&node-id=0%3A1&mode=design&t=5YZK4sMShNtMJ1Uk-1
### 使用技術<br>
* フロントエンド<br>
  Hotwire<br>
  JavaScript<br>
* CSSフレームワーク<br>
  Tailwind css<br>
* バックエンド<br>
  Ruby on Rails 7.0.7.2<br>
  Ruby 3.2.2<br>
* RDS<br>
  PostgreSQL<br>
* 認証・認可<br>
  Sorcery<br>
* デプロイ<br>
  Render<br>
* 環境構築<br>
  Docker<br>
* バージョン管理<br>
  GitHub<br>
* テスティング<br>
   RSpec<br>
   Capybara<br>
   rubocop
